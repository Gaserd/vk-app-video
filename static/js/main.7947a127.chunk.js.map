{"version":3,"sources":["panels/Videos.js","App.js","index.js"],"names":["Videos","react_default","a","createElement","vkui","id","value","this","props","search","onChange","size","level","onClick","onButtonHandler","videos","map","video","index","key","title","src","player","width","height","frameborder","React","Component","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","go","e","setState","activePanel","currentTarget","dataset","to","state","token","bind","assertThisInitialized","_this2","connect","subscribe","detail","type","data","access_token","getVideos","request_id","response","items","console","log","send","app_id","scope","offset","searchString","method","params","q","adult","v","panels_Videos","ReactDOM","render","src_App","document","getElementById"],"mappings":"0NAuCeA,0LAjCb,OACCC,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,GAAG,UACGJ,EAAAC,EAAAC,cAACC,EAAA,YAAD,aACAH,EAAAC,EAAAC,cAACC,EAAA,OAAD,CACIE,MAAOC,KAAKC,MAAMC,OAClBC,SAAUH,KAAKC,MAAME,WAEzBT,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,OAAD,CACIO,KAAK,KACLC,MAAM,YACNC,QAASN,KAAKC,MAAMM,iBAHxB,yCAMJb,EAAAC,EAAAC,cAACC,EAAA,MAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,KAAD,KAEQG,KAAKC,MAAMO,OAAOC,IAAI,SAACC,EAAOC,GAAR,OAClBjB,EAAAC,EAAAC,cAACC,EAAA,KAAD,CACIe,IAAKD,GAELjB,EAAAC,EAAAC,cAACC,EAAA,OAAD,KAASa,EAAMG,OACfnB,EAAAC,EAAAC,cAAA,UAAQkB,IAAKJ,EAAMK,OAAQC,MAAM,MAAMC,OAAO,MAAMC,YAAY,mBAxB/EC,IAAMC,YCkFZC,cA9Ed,SAAAA,EAAYpB,GAAO,IAAAqB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAvB,KAAAqB,IAClBC,EAAAC,OAAAE,EAAA,EAAAF,CAAAvB,KAAAuB,OAAAG,EAAA,EAAAH,CAAAF,GAAAM,KAAA3B,KAAMC,KAmDP2B,GAAK,SAACC,GACLP,EAAKQ,SAAS,CAAEC,YAAaF,EAAEG,cAAcC,QAAQC,MAlDrDZ,EAAKa,MAAQ,CACZJ,YAAa,SACbK,MAAO,KACPlC,OAAS,GACTM,OAAS,IAGVc,EAAKnB,SAAWmB,EAAKnB,SAASkC,KAAdd,OAAAe,EAAA,EAAAf,QAAAe,EAAA,EAAAf,CAAAD,KAChBA,EAAKf,gBAAkBe,EAAKf,gBAAgB8B,KAArBd,OAAAe,EAAA,EAAAf,QAAAe,EAAA,EAAAf,CAAAD,KAXLA,mFAcC,IAAAiB,EAAAvC,KACnBwC,IAAQC,UAAU,SAACZ,GAClB,OAAQA,EAAEa,OAAOC,MAChB,IAAK,8BACJJ,EAAKT,SAAS,CAAEM,MAAQP,EAAEa,OAAOE,KAAKC,eACtCN,EAAKO,UAAU,GACf,MACD,IAAK,8BAC6B,WAA7BjB,EAAEa,OAAOE,KAAKG,YACjBR,EAAKT,SAAS,CACbtB,OAASqB,EAAEa,OAAOE,KAAKI,SAASC,QAGlC,MACD,QACCC,QAAQC,IAAItB,EAAEa,OAAOC,SAGxBH,IAAQY,KAAK,uBAAwB,CAACC,OAAU,QAASC,MAAS,4CAGzDC,GACT,IAAIC,EAAexD,KAAKmC,MAAMjC,OAC9BsC,IAAQY,KAAK,wBACZ,CACCK,OAAW,eACXV,WAAe,SACfW,OAAW,CACVC,EAAMH,EACNI,MAAU,EACVC,EAAI,OACJN,OAAWA,EACXV,aAAgB7C,KAAKmC,MAAMC,0CAUrBlC,GAAUF,KAAK8B,SAAS,CAAE5B,qDAGnCF,KAAK8C,UAAU,oCAKf,OADAI,QAAQC,IAAInD,KAAKmC,OAEhBzC,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAMkC,YAAa/B,KAAKmC,MAAMJ,aAC7BrC,EAAAC,EAAAC,cAACkE,EAAD,CACChE,GAAG,SACHU,OAAQR,KAAKmC,MAAM3B,OACnBN,OAAQF,KAAKmC,MAAMjC,OACnBC,SAAUH,KAAKG,SACfI,gBAAiBP,KAAKO,0BAxETY,IAAMC,WCExBoB,IAAQY,KAAK,eAAgB,IAQ7BW,IAASC,OAAOtE,EAAAC,EAAAC,cAACqE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.7947a127.chunk.js","sourcesContent":["import React from 'react';\nimport { Panel, PanelHeader, Search, Div, Button, Group, List, Cell, Header } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nclass Videos extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Panel id=\"videos\">\n                <PanelHeader>VKUI</PanelHeader>\n                <Search \n                    value={this.props.search} \n                    onChange={this.props.onChange}\n                />\n                <Div>\n                    <Button \n                        size=\"xl\" \n                        level=\"secondary\"\n                        onClick={this.props.onButtonHandler}\n                    >Искать</Button>\n                </Div>\n                <Group>\n                    <List>\n                        {\n                            this.props.videos.map((video, index) => (\n                                <Cell \n                                    key={index}\n                                >\n                                    <Header>{video.title}</Header>\n                                    <iframe src={video.player} width=\"607\" height=\"360\" frameborder=\"0\"></iframe>\n                                </Cell>\n                            ))\n                        }\n                    </List>\n                </Group>\n            </Panel>\n\t\t);\n\t}\n}\n\nexport default Videos;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Videos from './panels/Videos';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'videos',\n\t\t\ttoken: null,\n\t\t\tsearch : '',\n\t\t\tvideos : []\n\t\t};\n\n\t\tthis.onChange = this.onChange.bind(this)\n\t\tthis.onButtonHandler = this.onButtonHandler.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tthis.setState({ token : e.detail.data.access_token });\n\t\t\t\t\tthis.getVideos(0)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppCallAPIMethodResult':\n\t\t\t\t\tif (e.detail.data.request_id === \"videos\") {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tvideos : e.detail.data.response.items\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6923699, \"scope\": \"video\"})\n\t}\n\n\tgetVideos(offset) {\n\t\tlet searchString = this.state.search\n\t\tconnect.send(\"VKWebAppCallAPIMethod\", \n\t\t\t{\n\t\t\t\t\"method\" : \"video.search\", \n\t\t\t\t\"request_id\" : \"videos\", \n\t\t\t\t\"params\" : {\n\t\t\t\t\t\"q\" : searchString,\n\t\t\t\t\t\"adult\" : 1,\n\t\t\t\t\t\"v\":\"5.92\", \n\t\t\t\t\t\"offset\" : offset,\n\t\t\t\t\t\"access_token\": this.state.token \n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\tonChange (search) { this.setState({ search }); }\n\n\tonButtonHandler() { \n\t\tthis.getVideos(0)\n\t}\n\n\trender() {\n\t\tconsole.log(this.state)\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel}>\n\t\t\t\t<Videos \n\t\t\t\t\tid=\"videos\" \n\t\t\t\t\tvideos={this.state.videos}\n\t\t\t\t\tsearch={this.state.search}\n\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\tonButtonHandler={this.onButtonHandler}\n\t\t\t\t/>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}